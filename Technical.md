# è·¨å­¦ç§‘çŸ¥è¯†å›¾è°±æ™ºèƒ½ä½“ - æŠ€æœ¯æ¶æ„æ–‡æ¡£

## é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ„å»ºä¸€ä¸ªè·¨å­¦ç§‘çŸ¥è¯†å›¾è°±æ™ºèƒ½ä½“ç³»ç»Ÿï¼Œç”¨æˆ·è¾“å…¥æ ¸å¿ƒæ¦‚å¿µè¯åï¼Œç³»ç»Ÿè‡ªåŠ¨æŒ–æ˜ä¸åŒå­¦ç§‘é¢†åŸŸçš„å…³è”çŸ¥è¯†ï¼Œæ„å»ºå¯è§†åŒ–çŸ¥è¯†å›¾è°±ï¼Œå¹¶æ”¯æŒRAGå¯¹è¯æ¢ç´¢ã€‚

---

## ç³»ç»Ÿæ¶æ„

### ç®€åŒ–æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Web Frontend (Vue3 + D3.js)                  â”‚
â”‚                         :3000                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â–¼                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Search Agent         â”‚     â”‚     Knowledge Engine            â”‚
â”‚    (FastAPI)            â”‚     â”‚     (FastAPI + LightRAG)        â”‚
â”‚    :8001                â”‚â”€â”€â”€â”€â–¶â”‚     :8002                       â”‚
â”‚                         â”‚     â”‚                                 â”‚
â”‚  â€¢ å­¦ç§‘åˆ†ç±»Agent        â”‚     â”‚  â€¢ LightRAG çŸ¥è¯†å›¾è°±æ„å»º        â”‚
â”‚  â€¢ Tavilyå¹¶è¡Œæœç´¢       â”‚     â”‚  â€¢ Neo4j åŒæ­¥                   â”‚
â”‚  â€¢ ç»“æœæ ¡éªŒå±‚           â”‚     â”‚  â€¢ RAG æŸ¥è¯¢                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                                              â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚           Neo4j                 â”‚
                              â”‚        :7474 / :7687            â”‚
                              â”‚                                 â”‚
                              â”‚   å›¾æ•°æ®åº“å­˜å‚¨çŸ¥è¯†å›¾è°±          â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### DockeræœåŠ¡ç¼–æ’

| æœåŠ¡ | ç«¯å£ | èŒè´£ |
|------|------|------|
| web-frontend | 3000 | Vue3å‰ç«¯ï¼ŒD3.jså›¾è°±å¯è§†åŒ– |
| search-agent | 8001 | æ¦‚å¿µåˆ†ç±»ã€Tavilyæœç´¢ã€ç»“æœæ ¡éªŒ |
| knowledge-engine | 8002 | LightRAGå›¾è°±æ„å»ºã€Neo4jåŒæ­¥ã€RAGæŸ¥è¯¢ |
| neo4j | 7474/7687 | å›¾æ•°æ®åº“ |
| redis | 6379 | ç¼“å­˜ï¼ˆå¯é€‰ï¼‰ |

---

## æ¨¡å—ä¸€ï¼šSearch Agentï¼ˆæœç´¢æœåŠ¡ï¼‰

### åŠŸèƒ½èŒè´£
1. æ¥æ”¶ç”¨æˆ·è¾“å…¥çš„æ ¸å¿ƒæ¦‚å¿µ
2. è°ƒç”¨LLMåˆ†ææ¦‚å¿µæ¶‰åŠçš„å­¦ç§‘é¢†åŸŸ
3. å¹¶è¡Œè°ƒç”¨Tavily APIæœç´¢å„å­¦ç§‘å†…å®¹
4. æ ¡éªŒå±‚è¿‡æ»¤ä½è´¨é‡/ä¸ç›¸å…³å†…å®¹
5. å°†æ–‡æœ¬å—å‘é€ç»™Knowledge Engine

### å·¥ä½œæµç¨‹

```
[ç”¨æˆ·è¾“å…¥æ¦‚å¿µ] 
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å­¦ç§‘åˆ†ç±» Agent  â”‚ â”€â”€â–º LLMåˆ†æ â”€â”€â–º è¿”å›å­¦ç§‘åˆ—è¡¨
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
                                         â–¼
                               [ç”¨æˆ·ç¡®è®¤/ä¿®æ”¹å­¦ç§‘]
                                         â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â–¼                                  â–¼                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Tavily   â”‚                      â”‚ Tavily   â”‚                       â”‚ Tavily   â”‚
â”‚ æœç´¢:    â”‚                      â”‚ æœç´¢:    â”‚                       â”‚ æœç´¢:    â”‚
â”‚ çƒ­åŠ›å­¦   â”‚                      â”‚ ä¿¡æ¯è®º   â”‚                       â”‚ ç»Ÿè®¡åŠ›å­¦ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                                  â”‚                                  â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â–¼
                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                               â”‚   æ ¡éªŒå±‚(Check) â”‚ â”€â”€â–º å»é‡ã€äº‹å®æ ¸æŸ¥ã€ç›¸å…³æ€§è¯„åˆ†
                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â–¼
                               [å‘é€æ–‡æœ¬å—åˆ° Knowledge Engine]
```

### æ ¸å¿ƒPrompt

#### å­¦ç§‘åˆ†ç±»Prompt
```python
CLASSIFY_PROMPT = """
ä½ æ˜¯ä¸€ä¸ªè·¨å­¦ç§‘çŸ¥è¯†ä¸“å®¶ã€‚ç»™å®šä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼Œåˆ†æå®ƒåœ¨ä¸åŒå­¦ç§‘é¢†åŸŸä¸­çš„åº”ç”¨å’Œå…³è”ã€‚

æ ¸å¿ƒæ¦‚å¿µ: {concept}

è¯·è¿”å›JSONæ ¼å¼ï¼š
{{
  "concept": "æ¦‚å¿µåç§°",
  "disciplines": [
    {{
      "name": "å­¦ç§‘åç§°",
      "relevance": 0.95,
      "reason": "å…³è”ç†ç”±",
      "keywords": ["æœç´¢å…³é”®è¯1", "æœç´¢å…³é”®è¯2"]
    }}
  ]
}}

è¦æ±‚ï¼š
- è‡³å°‘è¦†ç›–3ä¸ªä¸åŒå­¦ç§‘
- å¯»æ‰¾"è¿œäº²æ¦‚å¿µ"ï¼Œå³çœ‹ä¼¼ä¸ç›¸å…³ä½†æœ‰æ·±å±‚è”ç³»çš„å­¦ç§‘
- å…³è”ç†ç”±è¦å…·ä½“ä¸”æœ‰å­¦æœ¯ä»·å€¼
"""
```

#### æ ¡éªŒPrompt
```python
VALIDATE_PROMPT = """
è¯·å¯¹ä»¥ä¸‹æœç´¢ç»“æœè¿›è¡Œæ ¡éªŒï¼š

æœç´¢ç»“æœï¼š{search_results}
æ ¸å¿ƒæ¦‚å¿µï¼š{concept}

è¾“å‡ºJSONæ ¼å¼ï¼š
{{
  "validated": [
    {{"content": "...", "relevance": 0.9, "is_valid": true}}
  ],
  "rejected": [
    {{"content": "...", "reason": "ä¸ä¸»é¢˜æ— å…³"}}
  ]
}}
"""
```

### APIæ¥å£

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| POST | /api/classify | æ¦‚å¿µå­¦ç§‘åˆ†ç±» |
| POST | /api/search | å¯åŠ¨è·¨å­¦ç§‘æœç´¢ |
| GET | /api/search/{task_id} | æŸ¥è¯¢æœç´¢çŠ¶æ€ |
| GET | /api/results/{task_id} | è·å–æœç´¢ç»“æœ |

---

## æ¨¡å—äºŒï¼šKnowledge Engineï¼ˆçŸ¥è¯†å¼•æ“ï¼‰

### åŠŸèƒ½èŒè´£
1. æ¥æ”¶Search Agentçš„æ–‡æœ¬å—
2. ä½¿ç”¨LightRAGæå–å®ä½“å’Œå…³ç³»
3. åŒæ­¥çŸ¥è¯†å›¾è°±åˆ°Neo4j
4. æä¾›RAGæŸ¥è¯¢æ¥å£

### LightRAGé›†æˆ

```python
from lightrag import LightRAG, QueryParam

class RAGCore:
    def __init__(self):
        self.rag = LightRAG(
            working_dir="./lightrag_cache",
            llm_model_func=self._llm_func,
            embedding_func=self._embedding_func
        )
    
    async def ingest(self, text_chunks: list[str]):
        """æ’å…¥æ–‡æœ¬ï¼Œæ„å»ºçŸ¥è¯†å›¾è°±"""
        await self.rag.ainsert(text_chunks)
    
    async def query(self, question: str, mode: str = "hybrid"):
        """RAGæŸ¥è¯¢"""
        return await self.rag.aquery(
            question,
            param=QueryParam(mode=mode)
        )
```

### Neo4jåŒæ­¥ï¼ˆå…³é”®ï¼‰

```python
# neo4j_syncer.py
from neo4j import GraphDatabase

class Neo4jSyncer:
    def __init__(self, uri, user, password):
        self.driver = GraphDatabase.driver(uri, auth=(user, password))
    
    def sync_from_lightrag(self, rag_graph):
        """ä»LightRAGæå–å›¾è°±å¹¶åŒæ­¥åˆ°Neo4j"""
        with self.driver.session() as session:
            # 1. åˆ›å»ºèŠ‚ç‚¹
            for entity in rag_graph.entities:
                session.run("""
                    MERGE (e:Entity {id: $id})
                    SET e.name = $name,
                        e.type = $type,
                        e.description = $description
                """, entity)
            
            # 2. åˆ›å»ºå…³ç³»
            for relation in rag_graph.relations:
                session.run("""
                    MATCH (a:Entity {id: $source})
                    MATCH (b:Entity {id: $target})
                    MERGE (a)-[r:RELATES_TO]->(b)
                    SET r.type = $type,
                        r.weight = $weight
                """, relation)
```

### å›¾è°±ç²¾ç®€ç®—æ³•

```python
def prune_graph(graph, core_concept, max_distance=3, min_relevance=0.5):
    """
    ç²¾ç®€å›¾è°±ï¼Œä¿ç•™ä¸æ ¸å¿ƒæ¦‚å¿µç›¸å…³çš„èŠ‚ç‚¹
    
    1. BFSè®¡ç®—æ¯ä¸ªèŠ‚ç‚¹åˆ°æ ¸å¿ƒæ¦‚å¿µçš„è·ç¦»
    2. è¿‡æ»¤è·ç¦» > max_distance çš„èŠ‚ç‚¹
    3. åŸºäºembeddingç›¸ä¼¼åº¦è®¡ç®—ç›¸å…³æ€§
    4. è¿‡æ»¤ç›¸å…³æ€§ < min_relevance çš„èŠ‚ç‚¹
    5. ä¿ç•™æ¡¥æ¥èŠ‚ç‚¹ï¼ˆè¿æ¥ä¸åŒå­¦ç§‘çš„å…³é”®èŠ‚ç‚¹ï¼‰
    """
    pass
```

### APIæ¥å£

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| POST | /api/ingest | æ¥æ”¶æ–‡æœ¬å—ï¼Œæ„å»ºå›¾è°± |
| GET | /api/graph/{concept} | è·å–å›¾è°±æ•°æ® |
| POST | /api/query | RAGæŸ¥è¯¢ |
| WS | /ws/query | æµå¼RAGæŸ¥è¯¢ |

---

## æ¨¡å—ä¸‰ï¼šWeb Frontendï¼ˆå‰ç«¯ï¼‰

### æŠ€æœ¯æ ˆ
- Vue 3 + Composition API
- D3.js åŠ›å¯¼å‘å›¾
- Pinia çŠ¶æ€ç®¡ç†
- Nginx åå‘ä»£ç†

### é¡µé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Header                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                            â”‚  â”‚                            â”‚ â”‚
â”‚  â”‚     çŸ¥è¯†å›¾è°±å¯è§†åŒ–          â”‚  â”‚      RAGå¯¹è¯åŒºåŸŸ           â”‚ â”‚
â”‚  â”‚     (GraphView.vue)        â”‚  â”‚      (ChatPanel.vue)       â”‚ â”‚
â”‚  â”‚                            â”‚  â”‚                            â”‚ â”‚
â”‚  â”‚   â—‹â”€â”€â—‹                     â”‚  â”‚  User: ç†µæ˜¯ä»€ä¹ˆ?           â”‚ â”‚
â”‚  â”‚    \ /                     â”‚  â”‚  AI: ç†µæ˜¯...               â”‚ â”‚
â”‚  â”‚     â—‹ [æ ¸å¿ƒæ¦‚å¿µ]           â”‚  â”‚                            â”‚ â”‚
â”‚  â”‚    / \                     â”‚  â”‚                            â”‚ â”‚
â”‚  â”‚   â—‹â”€â”€â—‹                     â”‚  â”‚  [è¾“å…¥æ¡†]                  â”‚ â”‚
â”‚  â”‚                            â”‚  â”‚                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ğŸ“ä¸Šä¼ ] [ğŸ” è¾“å…¥æ¦‚å¿µ...                           ] [æœç´¢]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### D3.js å›¾è°±æ ¸å¿ƒä»£ç 

```javascript
// GraphView.vue
const initGraph = (nodes, edges) => {
  const svg = d3.select("#graph-container")
    .append("svg")
    .attr("width", width)
    .attr("height", height);

  const simulation = d3.forceSimulation(nodes)
    .force("link", d3.forceLink(edges).id(d => d.id).distance(100))
    .force("charge", d3.forceManyBody().strength(-300))
    .force("center", d3.forceCenter(width / 2, height / 2));

  // å­¦ç§‘é¢œè‰²æ˜ å°„
  const colorScale = d3.scaleOrdinal()
    .domain(["çƒ­åŠ›å­¦", "ä¿¡æ¯è®º", "ç»Ÿè®¡åŠ›å­¦", "æœºå™¨å­¦ä¹ "])
    .range(["#4A90D9", "#50C878", "#FFB347", "#FF6B6B"]);

  // ç»˜åˆ¶è¾¹
  const link = svg.selectAll(".link")
    .data(edges)
    .enter().append("line")
    .attr("class", "link")
    .attr("stroke", "#999");

  // ç»˜åˆ¶èŠ‚ç‚¹
  const node = svg.selectAll(".node")
    .data(nodes)
    .enter().append("circle")
    .attr("class", "node")
    .attr("r", d => d.id === coreConceptId ? 20 : 12)
    .attr("fill", d => colorScale(d.discipline))
    .call(d3.drag()
      .on("start", dragstarted)
      .on("drag", dragged)
      .on("end", dragended));

  // èŠ‚ç‚¹ç‚¹å‡»äº‹ä»¶
  node.on("click", (event, d) => {
    showNodeDetail(d);
  });
};
```

---

## æ•°æ®æµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     æ¦‚å¿µ      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    æ–‡æœ¬å—    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç”¨æˆ·   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ Search Agent â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ Knowledge Engineâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                           â”‚                              â”‚
     â”‚                           â”‚ å­¦ç§‘åˆ—è¡¨                     â”‚ åŒæ­¥
     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â–¼
     â”‚                                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                    å›¾è°±æ•°æ®                        â”‚  Neo4j   â”‚
     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚  RAGå¯¹è¯
     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ Knowledge Engine
```

---

## éƒ¨ç½²è¯´æ˜

### å¿«é€Ÿå¯åŠ¨

```bash
# 1. å¤åˆ¶ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env å¡«å…¥ä½ çš„ API Keys

# 2. å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# 3. è®¿é—®
# å‰ç«¯: http://localhost:3000
# Neo4j Browser: http://localhost:7474
```

### å¼€å‘æ¨¡å¼

```bash
# å•ç‹¬å¯åŠ¨åŸºç¡€è®¾æ–½
docker-compose up -d neo4j redis

# æœ¬åœ°è¿è¡Œåç«¯æœåŠ¡
cd services/search-agent && uvicorn main:app --reload --port 8001
cd services/knowledge-engine && uvicorn main:app --reload --port 8002

# æœ¬åœ°è¿è¡Œå‰ç«¯
cd services/web-frontend && npm run dev
```

---

## æŠ€æœ¯æ ˆæ€»ç»“

| å±‚çº§ | æŠ€æœ¯ |
|------|------|
| å‰ç«¯ | Vue 3, D3.js, Pinia, Nginx |
| æœç´¢æœåŠ¡ | FastAPI, LangChain, Tavily API |
| çŸ¥è¯†å¼•æ“ | FastAPI, LightRAG, Neo4j Driver |
| æ•°æ®åº“ | Neo4j 5, Redis 7 |
| éƒ¨ç½² | Docker, Docker Compose |
| LLM | OpenAI GPT-4 / Claude |

---

## é™„å½•ï¼šæ–‡ä»¶ç»“æ„

```
Cross-Disciplinary-Graph-Agent/
â”œâ”€â”€ docker-compose.yml          # æœåŠ¡ç¼–æ’
â”œâ”€â”€ .env.example                # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ .env                        # å®é™…ç¯å¢ƒå˜é‡ï¼ˆä¸æäº¤gitï¼‰
â”‚
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ search-agent/           # æ¨¡å—A
â”‚   â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”‚   â”œâ”€â”€ main.py
â”‚   â”‚   â”œâ”€â”€ agent.py
â”‚   â”‚   â”œâ”€â”€ prompts.py
â”‚   â”‚   â”œâ”€â”€ models.py
â”‚   â”‚   â””â”€â”€ requirements.txt
â”‚   â”‚
â”‚   â”œâ”€â”€ knowledge-engine/       # æ¨¡å—B
â”‚   â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”‚   â”œâ”€â”€ main.py
â”‚   â”‚   â”œâ”€â”€ rag_core.py
â”‚   â”‚   â”œâ”€â”€ neo4j_syncer.py
â”‚   â”‚   â”œâ”€â”€ graph_pruner.py
â”‚   â”‚   â”œâ”€â”€ models.py
â”‚   â”‚   â””â”€â”€ requirements.txt
â”‚   â”‚
â”‚   â””â”€â”€ web-frontend/           # æ¨¡å—C
â”‚       â”œâ”€â”€ Dockerfile
â”‚       â”œâ”€â”€ nginx.conf
â”‚       â”œâ”€â”€ package.json
â”‚       â”œâ”€â”€ vite.config.js
â”‚       â””â”€â”€ src/
â”‚           â”œâ”€â”€ App.vue
â”‚           â”œâ”€â”€ api.js
â”‚           â”œâ”€â”€ components/
â”‚           â”‚   â”œâ”€â”€ GraphView.vue
â”‚           â”‚   â”œâ”€â”€ ChatPanel.vue
â”‚           â”‚   â”œâ”€â”€ SearchPanel.vue
â”‚           â”‚   â””â”€â”€ NodeDetail.vue
â”‚           â””â”€â”€ stores/
â”‚               â”œâ”€â”€ graphStore.js
â”‚               â””â”€â”€ chatStore.js
â”‚
â””â”€â”€ data/                       # æ•°æ®æŒä¹…åŒ–
    â”œâ”€â”€ neo4j_data/
    â””â”€â”€ lightrag_cache/
```
