# Web Frontend å‰ç«¯ï¼ˆæ¨¡å—Cï¼‰

## èŒè´£
å¯¹åº” PLAN ä¸­çš„**æ¨¡å—ä¸‰ï¼šå‰ç«¯å¯è§†åŒ–**ï¼Œæä¾›ç”¨æˆ·äº¤äº’ç•Œé¢ï¼Œå±•ç¤ºçŸ¥è¯†å›¾è°±ï¼Œæ”¯æŒRAGå¯¹è¯ã€‚

## éœ€è¦å®Œæˆçš„æ–‡ä»¶

### 1. src/components/
- [ ] `GraphView.vue` - D3.jsåŠ›å¯¼å‘å›¾ç»„ä»¶ï¼ˆæ ¸å¿ƒï¼‰
- [ ] `SearchPanel.vue` - æ¦‚å¿µæœç´¢é¢æ¿
- [ ] `DisciplineSelector.vue` - å­¦ç§‘é€‰æ‹©å™¨
- [ ] `ChatPanel.vue` - RAGå¯¹è¯é¢æ¿
- [ ] `NodeDetail.vue` - èŠ‚ç‚¹è¯¦æƒ…å¼¹çª—
- [ ] `LoadingSpinner.vue` - åŠ è½½çŠ¶æ€

### 2. src/views/
- [ ] `Home.vue` - ä¸»é¡µé¢å¸ƒå±€

### 3. src/api.js - APIè°ƒç”¨å°è£…
- [ ] æœç´¢æœåŠ¡APIè°ƒç”¨
- [ ] çŸ¥è¯†å¼•æ“ŽAPIè°ƒç”¨
- [ ] WebSocketè¿žæŽ¥ç®¡ç†

### 4. src/stores/ - çŠ¶æ€ç®¡ç†ï¼ˆPiniaï¼‰
- [ ] `searchStore.js` - æœç´¢çŠ¶æ€
- [ ] `graphStore.js` - å›¾è°±çŠ¶æ€
- [ ] `chatStore.js` - å¯¹è¯çŠ¶æ€

### 5. nginx.conf - Nginxé…ç½®
- [ ] é™æ€èµ„æºæœåŠ¡
- [ ] APIä»£ç†è½¬å‘

### 6. Dockerfile & package.json

## é¡µé¢å¸ƒå±€ï¼ˆå‚è€ƒGeminiï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Header                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                        â”‚  â”‚                            â”‚ â”‚
â”‚  â”‚    çŸ¥è¯†å›¾è°±å¯è§†åŒ–       â”‚  â”‚      RAGå¯¹è¯åŒºåŸŸ           â”‚ â”‚
â”‚  â”‚    (D3.js Force)       â”‚  â”‚                            â”‚ â”‚
â”‚  â”‚                        â”‚  â”‚                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ðŸ“Žä¸Šä¼ ] [ðŸ” è¾“å…¥æ¦‚å¿µæŸ¥è¯¢...                    ] [å‘é€]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## D3.js å›¾è°±è¦ç‚¹

```javascript
// GraphView.vue æ ¸å¿ƒé€»è¾‘
const simulation = d3.forceSimulation(nodes)
  .force("link", d3.forceLink(edges).id(d => d.id))
  .force("charge", d3.forceManyBody().strength(-300))
  .force("center", d3.forceCenter(width/2, height/2));

// èŠ‚ç‚¹é¢œè‰²æŒ‰å­¦ç§‘åŒºåˆ†
const colorScale = d3.scaleOrdinal()
  .domain(["çƒ­åŠ›å­¦", "ä¿¡æ¯è®º", "ç»Ÿè®¡åŠ›å­¦"])
  .range(["#4A90D9", "#50C878", "#FFB347"]);
```

## APIè°ƒç”¨ç¤ºä¾‹

```javascript
// api.js
export const searchApi = {
  classify: (concept) => fetch('/api/classify', {
    method: 'POST',
    body: JSON.stringify({ concept })
  }),
  
  startSearch: (concept, disciplines) => fetch('/api/search', {
    method: 'POST', 
    body: JSON.stringify({ concept, disciplines })
  })
};

export const graphApi = {
  getGraph: (concept) => fetch(`/api/graph/${concept}`),
  query: (question) => fetch('/api/query', {
    method: 'POST',
    body: JSON.stringify({ question })
  })
};
```
